<svg class="links-svg" width="100%" height="100%">
  <!-- area where link lines are drawn -->
  <g [attr.transform]="mmpService.mapTransform()">
    <ng-container *ngFor="let link of links">
      <g (mouseenter)="hovered = link.id" (mouseleave)="hovered = null">
        <path
          [attr.d]="mmpService.branchPath(link.fromNodeId, link.toNodeId)"
          [attr.stroke]="hovered === link.id ? '#1976d2' : '#2c3e50'"
          stroke-width="4"
          stroke-linecap="round"
          fill="none"
          pointer-events="stroke"
        ></path>
        <text
          *ngIf="hovered === link.id"
          [attr.x]="mid(link).x"
          [attr.y]="mid(link).y"
          class="delete"
          (click)="delete(link.id)"
        >
          x
        </text>
      </g>
    </ng-container>
  </g>

  <line
    *ngIf="selectedNodeId && cursor"
    [attr.x1]="getPos(selectedNodeId).x"
    [attr.y1]="getPos(selectedNodeId).y"
    [attr.x2]="cursorPos.x"
    [attr.y2]="cursorPos.y"
    class="temp"
    pointer-events="none"
  ></line>
</svg>
